---
sidebar_position: 1
sidebar_label: 持仓龙虎榜
---

# 持仓龙虎榜

## 持仓功能是什么

在证券领域，龙虎榜是指某只股票在短时间内出现异动，如价格大幅上涨或下跌、成交量剧增等情况，交易所会将该股票的交易数据进行披露，列出买入和卖出该股票金额最大的前五名营业部或机构的名单。



期货领域也有龙虎榜，上榜规则要比证券简单一些，是以持仓量和交易量进行排序的，交易所会展示排名前 20 名的的期货公司持仓和交易量数据。

![01](\img\product\practice\position-billboard_images\01.PNG)

<div class="text-center">
*上海期货交易所铜期货合约持仓数据  2024.09.10*
</div>  
<br/>

因监管和信息披露制度要求，国内期货交易所均需要公布持仓数据，这意味着实现一个持仓数据跟踪功能具备数据基础。



在许多期货 App 中，大多都集成了基础的持仓功能，也即将国内期货交易所公布的数据进行可视化处理，以列表的形式展示，同时支持用户手动筛选。大概就是下图这种展示形式。

![02](\img\product\practice\position-billboard_images\02.png)

如果只是单纯看持仓数据，对复杂的数据做清洗和可视化能够满足多数用户的需求，但是并非所有的交易者能理解或者会使用龙虎榜。产品经理需要进一步挖掘持仓数据的价值。

## 如何理解 “持仓”

无论是在证券还是期货领域，持仓数据都是反映量价关系的核心一环。原因在于，持仓数据能够反映期货市场上主力的对于期货未来走势的态度。而这正是交易者所关注的。

![03](\img\product\practice\position-billboard_images\03.png)

持仓数据对于交易者具有一定参考作用，这些作用在于：

**1、市场情绪分析**

在理解市场情绪分析之前，需要知道持仓数据是如何反映出市场情绪的？市场情绪对交易者的作用是什么？



期货交易支持双向交易，交易者可以持有多头或者空头。如果市场中某一期货的多头持仓量上涨，表示更多的市场参与者看好未来价格上涨，愿意买入。如果多头持仓量上涨但价格却出现了下降，这意味着市场中的多头投资者认为当前的价格下跌是暂时的，他们预期未来价格可能会反弹上涨。



同理，如果持仓量下降但价格上涨，这暗示当前上涨趋势的动力不足或短期内可能会面临回调风险。多头对后市涨幅持谨慎态度，选择获利了结。或空头由于亏损压力而被迫回补仓位（平仓），推动价格进一步上涨。而持仓量下降但价格下跌的情况，则意味着市场看空情绪增强，价格下跌有可能持续，且反弹的可能性较小。

![04](\img\product\practice\position-billboard_images\04.png)

<div class="text-center">
*推论比较复杂，看图说话👆*
</div>  
<br/>


由此，通过持仓量和价格的对比以及对市场的分析，交易者能够对后市有一个大概的判断。对于产品经理而言，提供数据对比，能够直观地将持仓和价格数据呈现在交易者面前。

<br/>

**2、趋势判断**

同点 1，趋势判断也是通过观察持仓量的变化，交易者可以判断市场趋势的强弱。如果持仓量增加，说明市场参与者对当前趋势有信心；如果持仓量减少，可能意味着趋势即将反转或减弱。



趋势判断较为常用的形态在于价格和持仓量增减发生背离的情况，持仓量的变化能够让交易者发现市场的隐藏细节。

![05](\img\product\practice\position-billboard_images\05.png)


**3、资金流向判断**

持仓金额和持仓量的关系可以用下述公式表示：

<div class="text-center">
**持仓金额 = 持仓手数 * 每手交易单位 * 当前价格**
</div>  
<br/>


持仓数据可以帮助交易者分析资金的流入流出情况，特别是在某些关键价位上，资金的大规模进入或退出可能预示着价格变动的信号。



如果成交量和持仓量正向增加，意味着市场中有新资金进场，当前趋势可能会延续。如果两者呈现负相关关系，则意味着市场资金正在离场，当前趋势可能会中断，发生反转。这是资金分析的作用之一。

<br/>

**4、价格变动的预期**

在某些时候，持仓数据会发生极端变化，比方说持仓量急剧上升或下降，这暗示着价格的剧烈波动。交易者可以据此做出调整。



基于以上四点（分别为：情绪分析、趋势判断、资金流向、变动预期）进行分析之后，我们可以大概推导出几个可行的功能点：

| **功能** | **效果**                   |
| :------ | :------------------------ |
| 持仓排名   | 展示交易所公布的排名前 20 的持仓量数据    |
| 建仓过程   | 展示不同期货公司在不同期货合约上的的持仓量    |
| 持仓结构   | 展示不同期货公司的期货持仓分布          |
| 盈亏排行   | 根据主力的持仓变动，推断其在当前合约上的盈利情况 |
| 异动预警   | 对持仓量出现大幅变动的合约进行监控，并进行提醒  |

我们还能根据期货公司的持仓变动，推断出大致的胜率和盈利数据。进而形成一个基于持仓变化的策略，以供交易者参考。对于用户来说，原始的持仓数据已经进行过细致的清洗和梳理，用户进行分析的门槛和难度会大大降低，甚至只需要参考功能给出的结论即可。

## 以 “同花顺期货通” 为例

目前主流的期货软件，在持仓功能（龙虎榜）上做的比较深入的有东方财富期货和同花顺期货通两款应用。其余多数应用仅实现了在开头所讲的数据可视化能力，拓展不多。



接下来就以 “同花顺期货通” 这款产品来进行分析，Let's Go！

### 主力追踪

![06](\img\product\practice\position-billboard_images\06.png)

<div class="text-center">
*同花顺期货通 - 持仓分析 - 主力追踪  2024.09.11  V3.82.01*
</div>  
<br/>


乍一看，我们会发现同花顺期货通的持仓功能界面比较复杂，这还只是一个菜单下的页面。此外，功能页面中也存在大量专业名词，比如说 “变盘”、“流多/空”、“多空分歧” 等等。对于新手来说，进入到这个功能可能是完全懵逼的。But，在下文我会讲我是如何精简这个持仓功能的。



#### 优点是什么

同花顺期货通的主力追踪功能和上文提到的 “异动预警” 能力类似，展示了近期大额进行多头或空头增仓的期货公司。同时考虑了期货公司在不同品种上的盈利情况，筛选了一批胜率高、盈利多，且近期存在大额持仓变动的期货公司。



对于交易者而言，经过筛选的持仓数据，其参考性要远比展示前 20 名的持仓数据高，它省略了交易者判断和分析过程，比较轻松地得出了结论，同时也不用再去筛选历史胜率和盈利数据较好的期货公司。

#### 如何推导数据

在变盘预警栏目中，展示了净多头或净空头增仓手数、期货价格和涨跌幅以及变盘风险值。净持仓（流多或者流空）等数据可以通过计算或者接口直接返回，但是不同的产品会存在一些特色的计算方法，如变盘风险值。

![07](\img\product\practice\position-billboard_images\07.png)

同花顺期货通并未给出具体的计算公式，仅提到是依据市场主力持仓规模、市场波动变化等因子构建而来的。我们可以尝试通过几组关联的数据进行相关性分析，从而得出相近的变盘风险值公式。相关性越强，关联程度越高。



那么如何进行相关性分析呢？对于产品经理而言并不需要掌握太多分析方法和工具，只需要整理一定量级的数据输出给 Agent，并通过多轮对话优化公式，我们就能得到变盘风险值的计算公式。

![08](\img\product\practice\position-billboard_images\08.png)

至于其他的字段，比方说近一周胜率、近一年盈利。我们并不知道具体的计算规则，这个时候可以在详情页查看具体的计算公式，或者以用户角色和产品客服进行交流 “套” 出具体规则。这是较为省事的方式，不过在多数情况下，我们只能通过相关性分析得出结论。



#### 定义数据

在主力追踪详情页，页面展示了标的、累计盈亏和净持仓的对比数据，比较直观地展示了当前期货公司在某一标的下的盈利情况。

![09](\img\product\practice\position-billboard_images\09.png)

<div class="text-center">   
*主力追踪详情页*
</div>  
<br/>


我们会发现，我们并不了解主力资金流向值和变盘风险值的定义。什么时候展示绿色、红色？什么时候定义为小幅、中幅、大幅？我们可以多看几个页面，可以通过推导得出结论，比方说：

| 功能   | 说明    |
| :-------- | :------------- |
| 有无主力席位   | 有主力席位的展示样式    |
|          | 无主力席位的展示样式    |
| 主力资金流向变动 | 流向方向：流多、流空    |
|          | 流向幅度：小幅、中幅、大幅 |
|          | 多空流向值：定义具体公式  |

### 持仓排名

![10](\img\product\practice\position-billboard_images\10.png)

在持仓排名功能页中，用户首先可以选择对应的期货品种，功能页会以图表形式汇总多空持仓数据，同时以多单持仓、空单持仓、净持仓、成交量四个维度进行筛选。



其中大部分数据都是通过交易所的原始数据梳理得出。比方说多空比，是多单持仓除以空单持仓得出多空比数值。净持仓则是多单持仓减去空单持仓。通过观察能很快得出数据是如何计算的。



同花顺期货通将持仓量排名前五的的期货公司以圆环图表进行展示，这一点是很多产品经理会忽略的。原因在于持仓量会高度集中于头部期商，而非均匀分布。



以铁矿石为例，摩根大通、永安期货、乾坤期货对该品种的研究较深，客户投资量大，持仓量相对于其他期商较高。此外，不同公司的套保也会选择特定的期货公司，这也会导致部分期商会存在大量的持仓。所以在设计持仓排名中，需要考虑集中度这个因素。

### 建仓过程

![11](\img\product\practice\position-billboard_images\11.png)

记录交易所每天公布的期货公司在不同品种下的持仓数据，将数据以日为维度进行展示，我们就能得到期货公司在某个期货合约下的持仓变化，即建仓过程。



从建仓过程中，用户能够了解一家期货公司是在什么点位上买入或卖出期货合约，以及当前持仓的均价是多少。如果这家期货公司在当前品种上的胜率和盈利较高，用户跟随操作有较大盈利的可能。可以理解为建仓过程是将一家期货公司的操作展示在你面前。



但建仓过程仍有局限，因为交易所公布的持仓数据并没有剔除套保、套利、产业、跨境等类型的持仓，盲目跟随操作很可能导致亏损。总而言之，建仓过程能够让用户看到主力的操作过程，但没有办法解释操作原因。

![12](\img\product\practice\position-billboard_images\12.png)

建仓过程中，还有一个子功能值得关注，就是上图中的净持仓菜单页面。净持仓能够反映当前期货公司的持仓倾向，理论认为净持仓通常与期货合约的价格（收盘价）相关，如图 1 所示，宏观趋势的相似性很高。



基于这个观点衍生出来一个板块，用以观察净持仓与价格变化的相关性（如图 2 ），通过威尔逊相关系数去统计净持仓和收盘价的相关性，以此得出期货公司的操作是否可以作为持仓变化的参考。



如上图 2，国泰君安在纯碱 2501 合约的近 60 日相关性达到了 0.8771，数值很高，处于高度正相关。这说明这家期货公司的持仓操作能够准确把握市场趋势，对于交易者的参考性较高。


但是分析净持仓和收盘价的相关性也存在局限性，高相关性更多会在中长期呈现。此外，期货公司会采用多种交易策略，这些策略可能并不会在持仓数据中展示。短期、波段交易以及套期保值也会影响相关系数。



就我个人的观察，相关系数高的情况出现概率集中在中长期，同时出现的情况较少。对于净持仓和价格相关性分析属于一个 “有点用的鸡肋” 的程度，产品无法囊括所有影响因素。

### 持仓品种

持仓品种展示了不同期货公司在不同日期下的持仓情况，在这个页面可以看到期货公司目前持仓的所有期货合约以及占比，能够让交易者大概了解期货公司主要做什么合约，结合胜率和盈利情况可以了解期货公司擅长什么，不擅长什么。

![13](\img\product\practice\position-billboard_images\13.png)

在持仓品种中有一个细节，如上图 1 所示。东方财富期货的玻璃多单持仓是 26691 手，但是把这家期货公司的持仓合约加总却是 25747 手，相差 944 手。



原因在于，当期货公司的在某个合约的持仓手数排不上前 20 名就不会在交易所的持仓数据中公示，也就缺失了这部分数据。



BTW，从这一角度上看也能发现持仓数据只能说有参考性而不具备指导性，持仓数据的公布是延时且缺失的。如果贸然跟随交易会有潜在的亏损风险。

### 盈亏排行

盈亏排行，展示了期货公司在不同期货品种下的盈利情况。用户可以在不同时间周期（近 1 周、近 1 月、近 1 年...）下观察期货公司的盈利能力，进而了解期货公司擅长的领域。



但盈亏排行的数据有个较大的 Bug：如何统计期货公司的盈利，以什么时间周期统计？如果期货公司有历史持仓，小幅增仓不上榜，那么如何推断出真实的盈亏数据？



在研究许久之后，我果断放弃了数据的统计，还是交给信息技术部的各位同仁吧hh (～￣▽￣)～

## 做什么？不做什么？

在遍历各类竞品之后，我最终保留了持仓排名、建仓过程、持仓品种三个栏目，放弃了主力追踪和盈亏排行。原因还是像我上文提到的，交易所公布的持仓数据本身是缺失的，从产品角度进行清洗加工和可视化处理，呈现出来的结论并不能起到指导性作用。



**“主力追踪”** 这个功能很好，用户能看到期货公司的明显操作，但问题在于如何透视操作？假如期货公司 A 加多了甲期货 1000 手，是否意味着对当前品种是看多呢？



结论显然是不确定的，这有可能是散户的激进操作，也有可能是到期移仓，或者是套期保值，亦或者是套利？期货交易并不能跟随操作，尤其是这种次日公布的数据。很可能交易者在次日跟随买入了，但是期货公司在这一天卖出了，得不偿失。



**盈亏排行**功能也是同理，交易者如何确保盈利来源于期货公司的操作？如果盈利中有部分是散户梭哈带来的 “意外之财”，亏损也可能是因为套期保值导致的期货亏损，那么并不能直接认为盈亏数据反映了期货公司的真实水平。散户和机构的行为差异并不能直接在持仓数据中展现。



两个功能栏目强行增加了因果。如果因为某家期货公司胜率高，盈亏数据可观，那么就跟随它的操作，这并不合理。期货公司并非只有一个交易渠道，一般交易者也无法按比例复刻期货公司的套保或套利操作，资金体量不允许。



这也是期货龙虎榜的局限所在，它是不完整的，是数据缺失的。同时交易者并不了解除国内交易所以外的，期货公司的操作，信息是缺失的。这导致了持仓数据的作用仅在于提供了参考性作用而非指导性作用。而这两个国内栏目的指导性意味又太过强烈。
